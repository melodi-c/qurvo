---
name: issue-executor
description: "–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è GitHub issues: –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è, –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –º–µ—Ä–∂–∏—Ç –≤ main –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç issues."
disable-model-invocation: true
---

# Issue Executor -- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

–¢—ã -- –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è GitHub issues. –¢—ã –ù–ï —Ä–µ–∞–ª–∏–∑—É–µ—à—å –∑–∞–¥–∞—á–∏ —Å–∞–º. –í—Å—é —Ä–∞–±–æ—Ç—É –¥–µ–ª–∞—é—Ç –ø–æ–¥–∞–≥–µ–Ω—Ç—ã. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ -- –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∑–∞–ø—É—Å–∫, –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∏ –≤—ã–¥–∞—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç.

–í—ã–∑–æ–≤: `/issue-executor <–æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∫–∏–µ issues –±—Ä–∞—Ç—å>`

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–∫–∞–∑–∞—Ç—å: –Ω–æ–º–µ—Ä–∞ issues, –ª–µ–π–±–ª—ã, –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ "–≤—Å–µ open issues —Å –ª–µ–π–±–ª–æ–º ready".

---

## –®–∞–≥ 0: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ compact

**–í—ã–ø–æ–ª–Ω—è–π —ç—Ç–æ—Ç —à–∞–≥ –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —Ç—ã —á–∏—Ç–∞–µ—à—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –±—ã–ª —Å–∂–∞—Ç (compact) –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è issue-executor.**

–ï—Å–ª–∏ —Ç—ã –∑–∞–ø—É—Å–∫–∞–µ—à—å issue-executor –≤–ø–µ—Ä–≤—ã–µ ‚Äî –ø—Ä–æ–ø—É—Å—Ç–∏ —ç—Ç–æ—Ç —à–∞–≥ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ –®–∞–≥—É 1.

### 0.1: –ù–∞–π–¥–∏ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤

–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —á–µ—Ä–µ–∑ ToolSearch:
```
ToolSearch: "select:TaskList"
```

–ó–∞—Ç–µ–º –≤—ã–∑–æ–≤–∏ `TaskList` –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ ‚Äî –ø–æ–ª—É—á–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏. –ù–∞–π–¥–∏ –∑–∞–¥–∞—á–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `running` –∏–ª–∏ `pending`. –≠—Ç–æ –ø–æ–¥–∞–≥–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è. –ó–∞–ø–æ–º–Ω–∏ –∏—Ö `id` ‚Äî –æ–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

### 0.2: –ù–∞–π–¥–∏ issues –≤ —Å—Ç–∞—Ç—É—Å–µ in-progress

```bash
gh issue list --label "in-progress" --state open --json number,title
```

### 0.3: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏ –∫–∞—Ä—Ç–∏–Ω—É —Å–æ—Å—Ç–æ—è–Ω–∏—è

–°–æ–ø–æ—Å—Ç–∞–≤—å –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤ —Å issues:

- **Issue —Å `in-progress` + –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥–∞–≥–µ–Ω—Ç** ‚Üí –ù–ï –∑–∞–ø—É—Å–∫–∞–π –¥—É–±–ª—å. –ó–∞–≥—Ä—É–∑–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `TaskOutput` —á–µ—Ä–µ–∑ `ToolSearch: "select:TaskOutput"` –∏ –∂–¥–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–æ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –∏ –ø—Ä–∏–¥—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ).
- **Issue —Å `in-progress`, –Ω–æ –ù–ï–¢ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞** ‚Üí –ø–æ–¥–∞–≥–µ–Ω—Ç —É–ø–∞–ª –±–µ–∑ —Å—Ç–∞—Ç—É—Å–∞. –°–Ω–∏–º–∏ –ª–µ–π–±–ª `in-progress`, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞ –∑–∞–Ω–æ–≤–æ —á–µ—Ä–µ–∑ –®–∞–≥ 5.
- **Issue –±–µ–∑ `in-progress`** ‚Üí –µ—â—ë –Ω–µ –±—ã–ª –∑–∞–ø—É—â–µ–Ω. –ó–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ –®–∞–≥ 5.

### 0.4: –ü—Ä–æ–¥–æ–ª–∂–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –®–∞–≥—É 6 –∏ –≤—ã–≤–µ–¥–∏ –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç –ø–æ –®–∞–≥—É 7.

---

## –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å issues

–ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π –≤—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞ –¥–ª—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞:
```bash
START_TIME=$(date +%s)
```

–ò—Å–ø–æ–ª—å–∑—É–π `gh` CLI –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ issues. –í—ã–±–µ—Ä–∏ –ø–æ–¥—Ö–æ–¥—è—â—É—é –∫–æ–º–∞–Ω–¥—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
# –ü—Ä–∏–º–µ—Ä—ã ‚Äî –∞–¥–∞–ø—Ç–∏—Ä—É–π –ø–æ–¥ –∑–∞–ø—Ä–æ—Å
gh issue list --state open --json number,title,body,labels
gh issue list --label ready --state open --json number,title,body,labels
gh issue view <N> --json number,title,body,labels,comments
```

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ -- –ø–æ–ª—É—á–∏ –∫–∞–∂–¥—ã–π —á–µ—Ä–µ–∑ `gh issue view`.
–ï—Å–ª–∏ —É–∫–∞–∑–∞–ª –ª–µ–π–±–ª—ã –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ -- –∏—Å–ø–æ–ª—å–∑—É–π `gh issue list` —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.

–†–µ–∑—É–ª—å—Ç–∞—Ç: —Å–ø–∏—Å–æ–∫ issues —Å –ø–æ–ª—è–º–∏ `number`, `title`, `body`, `labels`.

**–§–∏–ª—å—Ç—Ä `skip`**: –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∏—Å–∫–ª—é—á–∏ –≤—Å–µ issues —Å –ª–µ–π–±–ª–æ–º `skip` ‚Äî –æ–Ω–∏ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ø—Ä–æ–ø—É—â–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –ï—Å–ª–∏ —Ç–∞–∫–∏–µ –µ—Å—Ç—å ‚Äî —É–ø–æ–º—è–Ω–∏ –∏—Ö –≤ –æ—Ç—á—ë—Ç–µ –∫–∞–∫ "–ø—Ä–æ–ø—É—â–µ–Ω–æ (skip)".

**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ `ready`**: –µ—Å–ª–∏ —Å—Ä–µ–¥–∏ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è issues –µ—Å—Ç—å —Ç–µ, —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –ª–µ–π–±–ª–∞ `ready` ‚Äî —Å–æ–æ–±—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º:
> ‚ö†Ô∏è Issues #N, #M –Ω–µ –ø—Ä–æ—à–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é (`ready` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç). Acceptance criteria –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–ø–æ–ª–Ω—ã–º–∏.
> –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞: `/issue-validator N M`
> –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏? (–¥–∞ / –Ω–µ—Ç)

–î–æ–∂–¥–∏—Å—å –æ—Ç–≤–µ—Ç–∞. –ü—Ä–∏ `–Ω–µ—Ç` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Å—å.

–ï—Å–ª–∏ issues –Ω–µ –Ω–∞–π–¥–µ–Ω—ã (–∏–ª–∏ –≤—Å–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã) -- —Å–æ–æ–±—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

---

## –®–∞–≥ 1.5: –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ç–æ–ø–æ–ª–æ–≥–∏—é sub-issues

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ issue –ø—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ sub-issues —á–µ—Ä–µ–∑ GitHub API:

```bash
REPO=$(gh repo view --json nameWithOwner -q .nameWithOwner)
# –î–ª—è –∫–∞–∂–¥–æ–≥–æ NUMBER –∏–∑ —Å–ø–∏—Å–∫–∞:
gh api repos/$REPO/issues/<NUMBER>/sub_issues --jq '[.[] | {number, title, state}]' 2>/dev/null || echo "[]"
```

–ù–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ—Å—Ç—Ä–æ–π –∫–∞—Ä—Ç—É:
- **Standalone** ‚Äî –Ω–µ—Ç sub-issues –∏ —Å–∞–º –Ω–µ —è–≤–ª—è–µ—Ç—Å—è sub-issue –¥—Ä—É–≥–æ–≥–æ ‚Üí –æ–±—ã—á–Ω—ã–π flow, –º–µ—Ä–∂–∏—Ç—Å—è –≤ `main`
- **Parent** ‚Äî –∏–º–µ–µ—Ç sub-issues ‚Üí –Ω—É–∂–Ω–∞ feature branch `feature/issue-N`; sub-issues –º–µ—Ä–∂–∞—Ç—Å—è –≤ –Ω–µ—ë, –∑–∞—Ç–µ–º –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –º–µ—Ä–∂–∏—Ç feature branch –≤ `main` –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç parent issue
- **Sub-issue** ‚Äî —è–≤–ª—è–µ—Ç—Å—è sub-issue –¥—Ä—É–≥–æ–≥–æ parent ‚Üí –ø–æ–ª—É—á–∞–µ—Ç `BASE_BRANCH: feature/issue-<PARENT_NUMBER>` –≤ –ø—Ä–æ–º–ø—Ç

–ï—Å–ª–∏ parent issue –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ, –Ω–æ –µ–≥–æ sub-issues –µ—â—ë –Ω–µ –≤–æ—à–ª–∏ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤—å –∏—Ö —á–µ—Ä–µ–∑ API –∏ –≤–∫–ª—é—á–∏ –≤ –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

## –®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π (foreground –ø–æ–¥–∞–≥–µ–Ω—Ç)

–ó–∞–ø—É—Å—Ç–∏ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞ —Ç–∏–ø–∞ `general-purpose` **–≤ foreground** (–ù–ï background -- –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∂–¥—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç).

–ü—Ä–æ–º–ø—Ç –¥–ª—è –ø–æ–¥–∞–≥–µ–Ω—Ç–∞:

```
–¢—ã -- –∞–Ω–∞–ª–∏—Ç–∏–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ monorepo Qurvo.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
- Apps: @qurvo/api (apps/api), @qurvo/ingest (apps/ingest), @qurvo/processor (apps/processor), @qurvo/cohort-worker (apps/cohort-worker), @qurvo/billing-worker (apps/billing-worker), @qurvo/web (apps/web)
- Packages: @qurvo/db (packages/@qurvo/db), @qurvo/clickhouse (packages/@qurvo/clickhouse), @qurvo/sdk-core, @qurvo/sdk-browser, @qurvo/sdk-node, @qurvo/distributed-lock, @qurvo/worker-core, @qurvo/testing

–í–æ—Ç —Å–ø–∏—Å–æ–∫ issues:
<–í–°–¢–ê–í–ò–¢–¨ –°–Æ–î–ê JSON –° ISSUES>

–î–ª—è –∫–∞–∂–¥–æ–≥–æ issue –æ–ø—Ä–µ–¥–µ–ª–∏:
1. –ö–∞–∫–∏–µ apps –∏ packages –æ–Ω –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç (–ø–æ title, body, labels)
2. –ö–∞–∫–∏–µ issues –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –ø–æ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–º —Ñ–∞–π–ª–∞–º/–º–æ–¥—É–ª—è–º)
3. –ö–∞–∫–∏–µ issues –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è)

–í–ê–ñ–ù–û ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–∏:
- –ï—Å–ª–∏ –¥–≤–∞ –∏–ª–∏ –±–æ–ª–µ–µ issues –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç —Å—Ö–µ–º—É –ë–î (`packages/@qurvo/db` –∏–ª–∏ `packages/@qurvo/clickhouse`) ‚Äî –æ–Ω–∏ –í–°–ï–ì–î–ê –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –†–ê–ó–ù–´–• –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø–∞—Ö, –¥–∞–∂–µ –µ—Å–ª–∏ –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π —Å–æ–∑–¥–∞—ë—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –Ω–æ–º–µ—Ä–∞. –°–∏–≥–Ω–∞–ª—ã: –ª–µ–π–±–ª `has-migrations` –∏–ª–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ DB/ClickHouse –≤ body.
- –ï—Å–ª–∏ issue –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç `packages/@qurvo/db` –∏ –¥—Ä—É–≥–æ–π –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ `apps/*` –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã ‚Äî –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏.

–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û JSON –≤ —Ç–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –±–µ–∑ –¥—Ä—É–≥–æ–≥–æ —Ç–µ–∫—Å—Ç–∞:
{
  "issues": {
    "42": { "title": "...", "affected": ["apps/api", "packages/@qurvo/db"] },
    "45": { "title": "...", "affected": ["apps/web"] }
  },
  "parallel_groups": [
    [42, 45],
    [43]
  ],
  "reasoning": "Issues 42 –∏ 45 –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –º–æ–¥—É–ª–∏, –ø–æ—ç—Ç–æ–º—É –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. Issue 43 –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç apps/api —Ç–∞–∫ –∂–µ –∫–∞–∫ 42, –ø–æ—ç—Ç–æ–º—É –∏–¥—ë—Ç –ø–æ—Å–ª–µ."
}
```

–†–∞—Å–ø–∞—Ä—Å–∏ JSON-–æ—Ç–≤–µ—Ç –ø–æ–¥–∞–≥–µ–Ω—Ç–∞. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–µ–Ω -- –ø–æ–ø—Ä–æ—Å–∏ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å (–º–∞–∫—Å–∏–º—É–º 1 –ø–æ–≤—Ç–æ—Ä).

---

## –®–∞–≥ 3: –°–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ª—é–±—ã—Ö –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –Ω–µ—Ç –º—É—Å–æ—Ä–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π-–æ–ø–µ—á–∞—Ç–æ–∫ —Ä—è–¥–æ–º —Å .claude
for bad_dir in .claire .claud .cloude claude; do
  [ ! -d "$REPO_ROOT/$bad_dir" ] \
    || echo "–í–ù–ò–ú–ê–ù–ò–ï: –Ω–∞–π–¥–µ–Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è $REPO_ROOT/$bad_dir ‚Äî —É–¥–∞–ª–∏ –µ—ë –≤—Ä—É—á–Ω—É—é"
done

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è worktree —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
[ -d "$REPO_ROOT/.claude/worktrees" ] || mkdir -p "$REPO_ROOT/.claude/worktrees"
echo "Worktree dir: $REPO_ROOT/.claude/worktrees"
```

---

## –®–∞–≥ 4: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ª–µ–π–±–ª–∞ in-progress

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–µ—Ä–≤–æ–π –≥—Ä—É–ø–ø—ã —É–±–µ–¥–∏—Å—å —á—Ç–æ –ª–µ–π–±–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:

```bash
gh label create "in-progress" --description "Currently being worked on" --color "0052CC" 2>/dev/null || true
gh label create "blocked" --description "Blocked, needs attention" --color "B60205" 2>/dev/null || true
gh label create "ready" --description "Ready to be worked on" --color "0E8A16" 2>/dev/null || true
gh label create "needs-clarification" --description "Needs clarification before work can begin" --color "FBCA04" 2>/dev/null || true
gh label create "has-migrations" --description "Requires DB or ClickHouse migrations" --color "C5DEF5" 2>/dev/null || true
gh label create "size:xs" --description "Extra small: <30 min" --color "F9D0C4" 2>/dev/null || true
gh label create "size:s"  --description "Small: <2 hours" --color "F9D0C4" 2>/dev/null || true
gh label create "size:m"  --description "Medium: <1 day" --color "E4E669" 2>/dev/null || true
gh label create "size:l"  --description "Large: >1 day" --color "D93F0B" 2>/dev/null || true
```

---

## –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ issue-solver –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤ (background)

### 5.1 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ feature branches –¥–ª—è parent issues

–î–ª—è –∫–∞–∂–¥–æ–≥–æ **parent issue** (—É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å sub-issues) —Å–æ–∑–¥–∞–π feature branch –î–û –∑–∞–ø—É—Å–∫–∞ –ª—é–±—ã—Ö –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤:

```bash
FEATURE_BRANCH="feature/issue-<PARENT_NUMBER>"
git -C "$REPO_ROOT" branch "$FEATURE_BRANCH" main
git -C "$REPO_ROOT" push origin "$FEATURE_BRANCH"
echo "–°–æ–∑–¥–∞–Ω–∞ feature branch: $FEATURE_BRANCH"
```

### 5.2 –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≥—Ä—É–ø–ø

Sub-issues –æ–¥–Ω–æ–≥–æ parent –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –†–ê–ù–¨–®–ï –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø (–æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–≤–æ–π –≥—Ä—É–ø–ø–æ–π –≤ `parallel_groups` –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ parent).

–î–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –∏–∑ `parallel_groups`:

1. **–ù–∞–≤–µ—Å—å –ª–µ–π–±–ª `in-progress`** –Ω–∞ –≤—Å–µ issues –≥—Ä—É–ø–ø—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∏ –¥–æ–±–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:
   ```bash
   gh issue edit <NUMBER> --add-label "in-progress"
   gh issue comment <NUMBER> --body "üîÑ **–í–∑—è—Ç–æ –≤ —Ä–∞–±–æ—Ç—É –∞–≥–µ–Ω—Ç–æ–º.** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º worktree."
   ```
2. –ó–∞–ø—É—Å—Ç–∏ –≤—Å–µ—Ö –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤ –≥—Ä—É–ø–ø—ã **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** –∫–∞–∫ background (`run_in_background: true`, `subagent_type: "issue-solver"`, **`isolation: "worktree"`** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
3. –î–æ–∂–¥–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –í–°–ï–• –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤ —Ç–µ–∫—É—â–µ–π –≥—Ä—É–ø–ø—ã
4. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–ø—É—Å—Ç–∏ —Å–ª–µ–¥—É—é—â—É—é –≥—Ä—É–ø–ø—É

### –ü—Ä–æ–º–ø—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ issue-solver –ø–æ–¥–∞–≥–µ–Ω—Ç–∞

–î–ª—è **standalone issues** (BASE_BRANCH = main):
```
Issue #{ISSUE_NUMBER}: {ISSUE_TITLE}

{ISSUE_BODY}

{ISSUE_COMMENTS ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å}

AFFECTED_APPS: {AFFECTED_APPS –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π}
```

–î–ª—è **sub-issues** (–¥–æ–±–∞–≤–∏—Ç—å BASE_BRANCH):
```
Issue #{ISSUE_NUMBER}: {ISSUE_TITLE}

{ISSUE_BODY}

{ISSUE_COMMENTS ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å}

AFFECTED_APPS: {AFFECTED_APPS –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π}
BASE_BRANCH: feature/issue-{PARENT_NUMBER}
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –µ—Å–ª–∏ `AFFECTED_APPS` —Å–æ–¥–µ—Ä–∂–∏—Ç `apps/web` –∏ issue (title/body) —É–ø–æ–º–∏–Ω–∞–µ—Ç `.stories.tsx` —Ñ–∞–π–ª—ã ‚Äî issue-solver –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç `pnpm --filter @qurvo/web build-storybook` –∫–∞–∫ —á–∞—Å—Ç—å DoD (—à–∞–≥ 4.3 Build). –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ –ø—Ä–æ–º–ø—Ç–µ –Ω–µ –Ω—É–∂–Ω–æ.

> **TypeScript-–ø—Ä–æ–≤–µ—Ä–∫–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)**: –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ issue-solver –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å TSC –¥–ª—è –≤—Å–µ—Ö –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏–∑ `AFFECTED_APPS`:
> - `apps/api` ‚Üí `pnpm --filter @qurvo/api exec tsc --noEmit`
> - `apps/web` ‚Üí `pnpm --filter @qurvo/web exec tsc --noEmit`
> - –û—Å—Ç–∞–ª—å–Ω—ã–µ apps ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —á–µ—Ä–µ–∑ `--filter`
>
> –í –∫–æ–Ω—Ü–µ –æ—Ç–≤–µ—Ç–∞ issue-solver –¥–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –Ω–∞ issue):
> ```
> FILES: <—Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é>
> TESTS: <X passed, Y failed | not run>
> TSC: ok | error
> REVIEW: APPROVE | REQUEST_CHANGES
> ```

### 5.3 –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è parent issue

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –í–°–ï–• sub-issues –æ–¥–Ω–æ–≥–æ parent ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å–∞–º –º–µ—Ä–∂–∏—Ç feature branch –≤ main –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç parent issue:

```bash
FEATURE_BRANCH="feature/issue-<PARENT_NUMBER>"

# –ú–µ—Ä–∂ feature branch –≤ main
MAIN_BEFORE=$(git -C "$REPO_ROOT" rev-parse main)
git -C "$REPO_ROOT" checkout main
git -C "$REPO_ROOT" merge "$FEATURE_BRANCH"
MAIN_AFTER=$(git -C "$REPO_ROOT" rev-parse main)
[ "$MAIN_BEFORE" != "$MAIN_AFTER" ] \
  || { echo "FATAL: –º–µ—Ä–∂ feature branch –Ω–µ –ø—Ä–æ–¥–≤–∏–Ω—É–ª main"; exit 1; }

git -C "$REPO_ROOT" push origin main

# –ó–∞–∫—Ä—ã—Ç—å parent issue –∏ —É–¥–∞–ª–∏—Ç—å feature branch
gh issue close <PARENT_NUMBER> --comment "–í—Å–µ sub-issues —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Å–º–µ—Ä–¥–∂–µ–Ω—ã —á–µ—Ä–µ–∑ $FEATURE_BRANCH –≤ main."
git -C "$REPO_ROOT" branch -d "$FEATURE_BRANCH"
git -C "$REPO_ROOT" push origin --delete "$FEATURE_BRANCH"
```

Parent issue **–Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è** –≤ issue-solver ‚Äî –æ–Ω —è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç—Ä–µ–∫–µ—Ä–æ–º sub-issues.

---

## –®–∞–≥ 6: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ background –ø–æ–¥–∞–≥–µ–Ω—Ç–∞, –ø—Ä–æ—á–∏—Ç–∞–π –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –Ω–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É `STATUS:`.

- `STATUS: SUCCESS` ‚Äî –ø–æ–¥–∞–≥–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –∑–∞–¥–∞—á—É, issue –∑–∞–∫—Ä—ã—Ç. –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –¥–µ–ª–∞–µ—Ç –º–µ—Ä–∂:
  1. –°–Ω–∏–º–∏ –ª–µ–π–±–ª `in-progress`: `gh issue edit <NUMBER> --remove-label "in-progress"`
  2. –ü–æ–ª—É—á–∏ `BRANCH` –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞ (—Å—Ç—Ä–æ–∫–∞ –≤–∏–¥–∞ `BRANCH: fix/issue-<NUMBER>`) –∏ –ø—É—Ç—å –∫ worktree –∏–∑ Task tool result (`worktree_path`).
  3. **–°–º–µ—Ä–∂–∏ –≤–µ—Ç–∫—É –≤ BASE_BRANCH** (fast-forward –±–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏):
     ```bash
     BASE_BEFORE=$(git -C "$REPO_ROOT" rev-parse "$BASE_BRANCH")
     git -C "$REPO_ROOT" fetch "$WORKTREE_PATH" "fix/issue-<NUMBER>:$BASE_BRANCH"
     BASE_AFTER=$(git -C "$REPO_ROOT" rev-parse "$BASE_BRANCH")
     [ "$BASE_BEFORE" != "$BASE_AFTER" ] \
       || { echo "FATAL: –º–µ—Ä–∂ –Ω–µ –ø—Ä–æ–¥–≤–∏–Ω—É–ª $BASE_BRANCH"; }
     ```
  4. **–ó–∞–ø—É—à—å** –≤ origin:
     ```bash
     git -C "$REPO_ROOT" push origin "$BASE_BRANCH"
     ```
  5. **–û—á–∏—Å—Ç–∏** –≤–µ—Ç–∫—É –∏ worktree:
     ```bash
     git -C "$REPO_ROOT" worktree remove "$WORKTREE_PATH" --force 2>/dev/null || true
     git -C "$REPO_ROOT" branch -D "fix/issue-<NUMBER>" 2>/dev/null || true
     ```
  6. **–í–ê–ñ–ù–û**: –ø–æ—Å–ª–µ `worktree remove` –ø–µ—Ä–µ–π–¥–∏ –≤ `$REPO_ROOT` –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ `gh` –∫–æ–º–∞–Ω–¥–∞–º–∏ ‚Äî –∏–Ω–∞—á–µ `gh` –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `git` —Å CWD —É–¥–∞–ª—ë–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –ø–∞–¥–∞–µ—Ç —Å `fatal: Unable to read current working directory`:
     ```bash
     cd "$REPO_ROOT"
     ```
  7. **–î–æ–±–∞–≤—å –∏—Ç–æ–≥–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞ issue** (issue —É–∂–µ –∑–∞–∫—Ä—ã—Ç solver'–æ–º ‚Äî –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ–±–∞–≤–∏—Ç—Å—è –∫ –∑–∞–∫—Ä—ã—Ç–æ–º—É):
     ```bash
     COMMIT_HASH=$(git -C "$REPO_ROOT" rev-parse --short "$BASE_BRANCH")
     # –ò–∑–≤–ª–µ–∫–∏ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ "‚Äî"):
     # FILES_LINE, TESTS_LINE, TSC_LINE, REVIEW_LINE
     gh issue comment <NUMBER> --body "$(cat <<'COMMENT'
     ## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∞–≥–µ–Ω—Ç–æ–º

     **–ö–æ–º–º–∏—Ç**: \`$COMMIT_HASH\`
     **–°–º–µ—Ä–¥–∂–µ–Ω–æ –≤**: \`$BASE_BRANCH\`

     **–§–∞–π–ª—ã**: FILES_LINE
     **–¢–µ—Å—Ç—ã**: TESTS_LINE
     **TypeScript**: TSC_LINE
     **Review**: REVIEW_LINE
     COMMENT
     )"
     ```
     –ü–æ–¥—Å—Ç–∞–≤—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å—Ç—Ä–æ–∫ `FILES:`, `TESTS:`, `TSC:`, `REVIEW:` —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞. –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫ –Ω–µ—Ç ‚Äî –ø–æ–¥—Å—Ç–∞–≤—å "‚Äî".
  8. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ü–µ–ª–µ–≤–∞—è –≤–µ—Ç–∫–∞ –ø—Ä–æ–¥–≤–∏–Ω—É–ª–∞—Å—å (`BASE_BEFORE != BASE_AFTER`) ‚Äî –µ—Å–ª–∏ –Ω–µ—Ç, —Å—á–∏—Ç–∞–π FAILED.
- `STATUS: NEEDS_USER_INPUT | <–ø—Ä–∏—á–∏–Ω–∞>` ‚Äî –¥–≤–∞ —Å–ª—É—á–∞—è:
  - **–ü—Ä–∏—á–∏–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç "—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π"** ‚Üí –∑–∞–ø—É—Å—Ç–∏ `issue-decomposer` –≤ foreground:
    ```
    ISSUE_NUMBER: <NUMBER>
    ISSUE_TITLE: <TITLE>
    ISSUE_BODY: <BODY>
    REPO_ROOT: <REPO_ROOT>
    ```
    –ï—Å–ª–∏ decomposer –≤–µ—Ä–Ω—É–ª `"atomic": true` ‚Üí —Å–æ–æ–±—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á—Ç–æ issue –∞—Ç–æ–º–∞—Ä–Ω—ã–π –Ω–æ solver –Ω–µ —Å–ø—Ä–∞–≤–∏–ª—Å—è, –æ–±—Ä–∞–±–æ—Ç–∞–π –∫–∞–∫ –æ–±—ã—á–Ω—ã–π NEEDS_USER_INPUT.
    –ï—Å–ª–∏ decomposer –≤–µ—Ä–Ω—É–ª —Å–ø–∏—Å–æ–∫ sub_issues ‚Üí —Å–æ–∑–¥–∞–π –∏—Ö —á–µ—Ä–µ–∑ `gh issue create` –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (—Å–æ—Ö—Ä–∞–Ω—è—è –Ω–æ–º–µ—Ä–∞ –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π), –ø—Ä–∏–≤—è–∂–∏ –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É issue –∫–∞–∫ sub-issues —á–µ—Ä–µ–∑ GitHub API (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –®–∞–≥—É 6 issue-planner), —Å–Ω–∏–º–∏ –ª–µ–π–±–ª `in-progress` —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ issue, –¥–æ–±–∞–≤—å –Ω–æ–≤—ã–µ issues –≤ –æ—á–µ—Ä–µ–¥—å —Ç–µ–∫—É—â–µ–π –∏–ª–∏ —Å–ª–µ–¥—É—é—â–µ–π –≥—Ä—É–ø–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
  - **–õ—é–±–∞—è –¥—Ä—É–≥–∞—è –ø—Ä–∏—á–∏–Ω–∞** ‚Üí –æ—Å—Ç–∞–≤—å –ª–µ–π–±–ª `in-progress` –ø–æ–∫–∞ –∂–¥—ë—à—å –æ—Ç–≤–µ—Ç–∞. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–æ–±—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –ø–µ—Ä–µ–¥–∞–π –ø—Ä–∏—á–∏–Ω—É. –ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -- –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞ —Å –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º: –¥–æ–±–∞–≤—å —É—Ç–æ—á–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–µ–∫—Ü–∏—é "–ó–∞–¥–∞—á–∞" –∏ –¥–æ–±–∞–≤—å —Å—Ç—Ä–æ–∫—É `WORKTREE_PATH: <–ø—É—Ç—å –∏–∑ Task tool result>` ‚Äî –∞–≥–µ–Ω—Ç –≤–æ–π–¥—ë—Ç –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π worktree, –Ω–µ —Å–æ–∑–¥–∞–≤–∞—è –Ω–æ–≤—ã–π. –ó–∞–ø—É—Å–∫–∞–π —Å `isolation: "worktree"` –∫–∞–∫ –æ–±—ã—á–Ω–æ (–∞–≥–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —á—Ç–æ worktree —É–∂–µ –µ—Å—Ç—å).
- `STATUS: FAILED | <–ø—Ä–∏—á–∏–Ω–∞>` ‚Äî —Å–Ω–∏–º–∏ –ª–µ–π–±–ª `in-progress`: `gh issue edit <NUMBER> --remove-label "in-progress"`. –î–æ–±–∞–≤—å –≤ –æ—Ç—á—ë—Ç –∫–∞–∫ failed.

–ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ STATUS –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ -- —Å—á–∏—Ç–∞–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∫ FAILED —Å –ø—Ä–∏—á–∏–Ω–æ–π "–ø–æ–¥–∞–≥–µ–Ω—Ç –Ω–µ –≤–µ—Ä–Ω—É–ª —Å—Ç–∞—Ç—É—Å". –°–Ω–∏–º–∏ –ª–µ–π–±–ª `in-progress`.

---

## –®–∞–≥ 7: –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –í–°–ï–• –≥—Ä—É–ø–ø –∏ –≤—Å–µ—Ö –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤, –≤—ã–≤–µ–¥–∏ —Å–≤–æ–¥–∫—É. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π –≤—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞ –≤ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã (`START_TIME=$(date +%s)`) –∏ –≤—ã—á–∏—Å–ª–∏ elapsed –≤ –∫–æ–Ω—Ü–µ.

```
## –ò—Ç–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è issues

| # | Issue | –°—Ç–∞—Ç—É—Å | –¢–µ—Å—Ç—ã | Review | –î–µ—Ç–∞–ª–∏ |
|---|-------|--------|-------|--------|--------|
| 1 | #42 "Title" | ‚úÖ SUCCESS | ‚úÖ passed | ‚úÖ APPROVE (1 iter) | –°–º–µ—Ä–¥–∂–µ–Ω–æ –≤ main |
| 2 | #43 "Title" | ‚ùå FAILED  | ‚ùå failed | ‚Äî                  | TypeError –≤ funnel.service.ts:42 |
| 3 | #45 "Title" | ‚è≥ NEEDS_INPUT | ‚Äî  | ‚Äî                  | Issue —Å–ª–∏—à–∫–æ–º —Ä–∞–∑–º—ã—Ç—ã–π |

–í—ã–ø–æ–ª–Ω–µ–Ω–æ: N –∏–∑ M  |  –í—Ä–µ–º—è: X –º–∏–Ω  |  –ì—Ä—É–ø–ø –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞: G
```

–ï—Å–ª–∏ –µ—Å—Ç—å FAILED –∏–ª–∏ NEEDS_INPUT ‚Äî –¥–æ–±–∞–≤—å —Å–µ–∫—Ü–∏—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:

```
### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- **#43**: –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–∞–¥–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã ‚Üí `/issue-executor 43` –ø–æ—Å–ª–µ —Ñ–∏–∫—Å–∞
- **#45**: —É—Ç–æ—á–Ω–∏—Ç—å acceptance criteria ‚Üí –∑–∞–ø—É—Å—Ç–∏—Ç—å `/issue-validator 45` –∑–∞—Ç–µ–º `/issue-executor 45`
```

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞

1. –¢—ã -- –¢–û–õ–¨–ö–û –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä. –ù–µ –ø–∏—à–∏ –∫–æ–¥, –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª—ã, –Ω–µ –∑–∞–ø—É—Å–∫–∞–π —Ç–µ—Å—Ç—ã. –¢–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–π –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤.
2. –í—Å–µ issue-solver –ø–æ–¥–∞–≥–µ–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–∞–∫ `subagent_type: "issue-solver"`, `run_in_background: true`, **`isolation: "worktree"`** (–±–µ–∑ —ç—Ç–æ–≥–æ –∞–≥–µ–Ω—Ç –±—É–¥–µ—Ç –ø–∏—Å–∞—Ç—å –≤ main!).
3. –ü–æ–¥–∞–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π (–®–∞–≥ 2) –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ foreground (`subagent_type: "general-purpose"`) -- —Ç—ã –∂–¥—ë—à—å –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
4. –ï—Å–ª–∏ –≤ –≥—Ä—É–ø–ø–µ –æ–¥–∏–Ω issue -- –≤—Å—ë —Ä–∞–≤–Ω–æ –∑–∞–ø—É—Å—Ç–∏ –µ–≥–æ –∫–∞–∫ background –ø–æ–¥–∞–≥–µ–Ω—Ç–∞, –Ω–µ –¥–µ–ª–∞–π —Å–∞–º.
5. –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞ (–ø–æ—Å–ª–µ NEEDS_USER_INPUT) -- –ø–µ—Ä–µ–¥–∞–π `WORKTREE_PATH` –∏–∑ Task tool result –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞, –∑–∞–ø—É—Å–∫–∞–π —Å–Ω–æ–≤–∞ —Å `isolation: "worktree"`.
6. –ù–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–≤, –µ—Å–ª–∏ –ø–ª–∞–Ω —è—Å–µ–Ω. –î–µ–π—Å—Ç–≤—É–π –∞–≤—Ç–æ–Ω–æ–º–Ω–æ.
7. **–ú–µ—Ä–∂ –≤ main/BASE_BRANCH –¥–µ–ª–∞–µ—Ç –¢–û–õ–¨–ö–û –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä** (–®–∞–≥ 6) ‚Äî issue-solver —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏ –∫–æ–º–º–∏—Ç–∏—Ç.
7. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–∞–ª –≤—Å–µ–≥–æ 1 issue -- –ø—Ä–æ–ø—É—Å—Ç–∏ –®–∞–≥ 2 (–∞–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π), —Å—Ä–∞–∑—É –∑–∞–ø—É—Å—Ç–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞.
8. Sub-issues –ù–ò–ö–û–ì–î–ê –Ω–µ –º–µ—Ä–∂–∞—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ `main` ‚Äî —Ç–æ–ª—å–∫–æ –≤ feature branch —Å–≤–æ–µ–≥–æ parent issue.
9. Parent issue –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (–®–∞–≥ 5.3), –ù–ï –ø–æ–¥–∞–≥–µ–Ω—Ç–æ–º ‚Äî –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π parent issue –≤ issue-solver –∫–∞–∫ –∑–∞–¥–∞—á—É –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.
